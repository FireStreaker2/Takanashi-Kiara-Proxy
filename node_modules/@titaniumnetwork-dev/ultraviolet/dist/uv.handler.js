(()=>{"use strict";function e(t,a={},r="/bare/"){if("__uv"in t&&t.__uv instanceof Ultraviolet)return!1;t.document&&t.window&&t.document.querySelectorAll("script[__uv-script]").forEach((e=>e.remove()));const o=!t.window,n="__uv",l="__uv$",i=new Ultraviolet({...a,window:t});"function"==typeof a.construct&&a.construct(i,o?"worker":"window");const{client:s}=i,{HTMLMediaElement:d,HTMLScriptElement:c,HTMLAudioElement:u,HTMLVideoElement:m,HTMLInputElement:h,HTMLEmbedElement:v,HTMLTrackElement:g,HTMLAnchorElement:p,HTMLIFrameElement:b,HTMLAreaElement:_,HTMLLinkElement:f,HTMLBaseElement:y,HTMLFormElement:S,HTMLImageElement:w,HTMLSourceElement:P}=t;s.nativeMethods.defineProperty(t,"__uv",{value:i,enumerable:!1}),i.meta.origin=location.origin,i.location=s.location.emulate((e=>"about:srcdoc"===e?new URL(e):(e.startsWith("blob:")&&(e=e.slice("blob:".length)),new URL(i.sourceUrl(e)))),(e=>i.rewriteUrl(e))),i.cookieStr=t.__uv$cookies||"",i.meta.url=i.location,i.domain=i.meta.url.host,i.blobUrls=new t.Map,i.referrer="",i.cookies=[],i.localStorageObj={},i.sessionStorageObj={};try{i.bare=new URL(r,t.location.href)}catch(e){i.bare=t.parent.__uv.bare}if("about:srcdoc"===i.location.href&&(i.meta=t.parent.__uv.meta),t.EventTarget&&(i.addEventListener=t.EventTarget.prototype.addEventListener,i.removeListener=t.EventTarget.prototype.removeListener,i.dispatchEvent=t.EventTarget.prototype.dispatchEvent),s.nativeMethods.defineProperty(s.storage.storeProto,"__uv$storageObj",{get(){return this===s.storage.sessionStorage?i.sessionStorageObj:this===s.storage.localStorage?i.localStorageObj:void 0},enumerable:!1}),t.localStorage){for(const e in t.localStorage)e.startsWith(l+i.location.origin+"@")&&(i.localStorageObj[e.slice((l+i.location.origin+"@").length)]=t.localStorage.getItem(e));i.lsWrap=s.storage.emulate(s.storage.localStorage,i.localStorageObj)}if(t.sessionStorage){for(const e in t.sessionStorage)e.startsWith(l+i.location.origin+"@")&&(i.sessionStorageObj[e.slice((l+i.location.origin+"@").length)]=t.sessionStorage.getItem(e));i.ssWrap=s.storage.emulate(s.storage.sessionStorage,i.sessionStorageObj)}let k=t.document?s.node.baseURI.get.call(t.document):t.location.href,U=i.sourceUrl(k);if(s.nativeMethods.defineProperty(i.meta,"base",{get:()=>t.document?(s.node.baseURI.get.call(t.document)!==k&&(k=s.node.baseURI.get.call(t.document),U=i.sourceUrl(k)),U):i.meta.url.href}),i.methods={setSource:"__uv$setSource",source:"__uv$source",location:"__uv$location",function:"__uv$function",string:"__uv$string",eval:"__uv$eval",parent:"__uv$parent",top:"__uv$top"},i.filterKeys=[n,i.methods.setSource,i.methods.source,i.methods.location,i.methods.function,i.methods.string,i.methods.eval,i.methods.parent,i.methods.top,"__uv$protocol","__uv$storageObj","__uv$url","__uv$modifiedStyle","__uv$config","__uv$dispatched","Ultraviolet","__uvHook"],s.on("wrap",((e,t)=>{s.nativeMethods.defineProperty(t,"name",s.nativeMethods.getOwnPropertyDescriptor(e,"name")),s.nativeMethods.defineProperty(t,"length",s.nativeMethods.getOwnPropertyDescriptor(e,"length")),s.nativeMethods.defineProperty(t,i.methods.string,{enumerable:!1,value:s.nativeMethods.fnToString.call(e)}),s.nativeMethods.defineProperty(t,i.methods.function,{enumerable:!1,value:e})})),s.fetch.on("request",(e=>{e.data.input=i.rewriteUrl(e.data.input)})),s.fetch.on("requestUrl",(e=>{e.data.value=i.sourceUrl(e.data.value)})),s.fetch.on("responseUrl",(e=>{e.data.value=i.sourceUrl(e.data.value)})),s.xhr.on("open",(e=>{e.data.input=i.rewriteUrl(e.data.input)})),s.xhr.on("responseUrl",(e=>{e.data.value=i.sourceUrl(e.data.value)})),s.workers.on("worker",(e=>{e.data.url=i.rewriteUrl(e.data.url)})),s.workers.on("addModule",(e=>{e.data.url=i.rewriteUrl(e.data.url)})),s.workers.on("importScripts",(e=>{for(const t in e.data.scripts)e.data.scripts[t]=i.rewriteUrl(e.data.scripts[t])})),s.workers.on("postMessage",(e=>{let t=e.data.origin;e.data.origin="*",e.data.message={__data:e.data.message,__origin:i.meta.url.origin,__to:t}})),s.navigator.on("sendBeacon",(e=>{e.data.url=i.rewriteUrl(e.data.url)})),s.document.on("getCookie",(e=>{e.data.value=i.cookieStr})),s.document.on("setCookie",(e=>{Promise.resolve(i.cookie.setCookies(e.data.value,i.db,i.meta)).then((()=>{i.cookie.db().then((e=>{i.cookie.getCookies(e).then((e=>{i.cookieStr=i.cookie.serialize(e,i.meta,!0)}))}))}));const t=i.cookie.setCookie(e.data.value)[0];t.path||(t.path="/"),t.domain||(t.domain=i.meta.url.hostname),i.cookie.validateCookie(t,i.meta,!0)&&(i.cookieStr.length&&(i.cookieStr+="; "),i.cookieStr+=`${t.name}=${t.value}`),e.respondWith(e.data.value)})),s.element.on("setInnerHTML",(e=>{switch(e.that.tagName){case"SCRIPT":e.data.value=i.js.rewrite(e.data.value);break;case"STYLE":e.data.value=i.rewriteCSS(e.data.value);break;default:e.data.value=i.rewriteHtml(e.data.value)}})),s.element.on("getInnerHTML",(e=>{if("SCRIPT"===e.that.tagName)e.data.value=i.js.source(e.data.value);else e.data.value=i.sourceHtml(e.data.value)})),s.element.on("setOuterHTML",(e=>{e.data.value=i.rewriteHtml(e.data.value,{document:"HTML"===e.that.tagName})})),s.element.on("getOuterHTML",(e=>{switch(e.that.tagName){case"HEAD":e.data.value=i.sourceHtml(e.data.value.replace(/<head(.*)>(.*)<\/head>/s,"<op-head$1>$2</op-head>")).replace(/<op-head(.*)>(.*)<\/op-head>/s,"<head$1>$2</head>");break;case"BODY":e.data.value=i.sourceHtml(e.data.value.replace(/<body(.*)>(.*)<\/body>/s,"<op-body$1>$2</op-body>")).replace(/<op-body(.*)>(.*)<\/op-body>/s,"<body$1>$2</body>");break;default:e.data.value=i.sourceHtml(e.data.value,{document:"HTML"===e.that.tagName})}})),s.document.on("write",(e=>{if(!e.data.html.length)return!1;e.data.html=[i.rewriteHtml(e.data.html.join(""))]})),s.document.on("writeln",(e=>{if(!e.data.html.length)return!1;e.data.html=[i.rewriteHtml(e.data.html.join(""))]})),s.element.on("insertAdjacentHTML",(e=>{e.data.html=i.rewriteHtml(e.data.html)})),s.eventSource.on("construct",(e=>{e.data.url=i.rewriteUrl(e.data.url)})),s.eventSource.on("url",(e=>{e.data.url=i.rewriteUrl(e.data.url)})),s.history.on("replaceState",(e=>{e.data.url&&(e.data.url=i.rewriteUrl(e.data.url,"__uv"in e.that?e.that.__uv.meta:i.meta))})),s.history.on("pushState",(e=>{e.data.url&&(e.data.url=i.rewriteUrl(e.data.url,"__uv"in e.that?e.that.__uv.meta:i.meta))})),s.element.on("getAttribute",(e=>{s.element.hasAttribute.call(e.that,i.attributePrefix+"-attr-"+e.data.name)&&e.respondWith(e.target.call(e.that,i.attributePrefix+"-attr-"+e.data.name))})),s.message.on("postMessage",(e=>{let t=e.data.origin,a=i.call;e.that&&(a=e.that.__uv$source.call),e.data.origin="*",e.data.message={__data:e.data.message,__origin:(e.that||e.target).__uv$source.location.origin,__to:t},e.respondWith(a(e.target,o?[e.data.message,e.data.transfer]:[e.data.message,e.data.origin,e.data.transfer],e.that))})),s.message.on("data",(e=>{const{value:t}=e.data;"object"==typeof t&&"__data"in t&&"__origin"in t&&e.respondWith(t.__data)})),s.message.on("origin",(e=>{const t=s.message.messageData.get.call(e.that);"object"==typeof t&&t.__data&&t.__origin&&e.respondWith(t.__origin)})),s.overrideDescriptor(t,"origin",{get:(e,t)=>i.location.origin}),s.node.on("baseURI",(e=>{e.data.value.startsWith(t.location.origin)&&(e.data.value=i.sourceUrl(e.data.value))})),s.element.on("setAttribute",(e=>{if(e.that instanceof d&&"src"===e.data.name&&e.data.value.startsWith("blob:"))return e.target.call(e.that,i.attributePrefix+"-attr-"+e.data.name,e.data.value),void(e.data.value=i.blobUrls.get(e.data.value));i.attrs.isUrl(e.data.name)&&(e.target.call(e.that,i.attributePrefix+"-attr-"+e.data.name,e.data.value),e.data.value=i.rewriteUrl(e.data.value)),i.attrs.isStyle(e.data.name)&&(e.target.call(e.that,i.attributePrefix+"-attr-"+e.data.name,e.data.value),e.data.value=i.rewriteCSS(e.data.value,{context:"declarationList"})),i.attrs.isHtml(e.data.name)&&(e.target.call(e.that,i.attributePrefix+"-attr-"+e.data.name,e.data.value),e.data.value=i.rewriteHtml(e.data.value,{...i.meta,document:!0,injectHead:i.createHtmlInject(i.handlerScript,i.bundleScript,i.configScript,i.cookieStr,t.location.href)})),i.attrs.isSrcset(e.data.name)&&(e.target.call(e.that,i.attributePrefix+"-attr-"+e.data.name,e.data.value),e.data.value=i.html.wrapSrcset(e.data.value)),i.attrs.isForbidden(e.data.name)&&(e.data.name=i.attributePrefix+"-attr-"+e.data.name)})),s.element.on("audio",(e=>{e.data.url=i.rewriteUrl(e.data.url)})),s.element.hookProperty([p,_,f,y],"href",{get:(e,t)=>i.sourceUrl(e.call(t)),set:(e,t,[a])=>{s.element.setAttribute.call(t,i.attributePrefix+"-attr-href",a),e.call(t,i.rewriteUrl(a))}}),s.element.hookProperty([c,u,m,d,w,h,v,b,g,P],"src",{get:(e,t)=>i.sourceUrl(e.call(t)),set:(e,t,[a])=>{if(new String(a).toString().trim().startsWith("blob:")&&t instanceof d)return s.element.setAttribute.call(t,i.attributePrefix+"-attr-src",a),e.call(t,i.blobUrls.get(a)||a);s.element.setAttribute.call(t,i.attributePrefix+"-attr-src",a),e.call(t,i.rewriteUrl(a))}}),s.element.hookProperty([S],"action",{get:(e,t)=>i.sourceUrl(e.call(t)),set:(e,t,[a])=>{s.element.setAttribute.call(t,i.attributePrefix+"-attr-action",a),e.call(t,i.rewriteUrl(a))}}),s.element.hookProperty([w],"srcset",{get:(e,t)=>s.element.getAttribute.call(t,i.attributePrefix+"-attr-srcset")||e.call(t),set:(e,t,[a])=>{s.element.setAttribute.call(t,i.attributePrefix+"-attr-srcset",a),e.call(t,i.html.wrapSrcset(a))}}),s.element.hookProperty(c,"integrity",{get:(e,t)=>s.element.getAttribute.call(t,i.attributePrefix+"-attr-integrity"),set:(e,t,[a])=>{s.element.setAttribute.call(t,i.attributePrefix+"-attr-integrity",a)}}),s.element.hookProperty(b,"sandbox",{get:(e,t)=>s.element.getAttribute.call(t,i.attributePrefix+"-attr-sandbox")||e.call(t),set:(e,t,[a])=>{s.element.setAttribute.call(t,i.attributePrefix+"-attr-sandbox",a)}}),s.element.hookProperty(b,"contentWindow",{get:(t,o)=>{const n=t.call(o);try{return n.__uv||e(n,a,r),n}catch(e){return n}}}),s.element.hookProperty(b,"contentDocument",{get:(t,o)=>{const n=t.call(o);try{const t=n.defaultView;return t.__uv||e(t,a,r),n}catch(e){return win}}}),s.element.hookProperty(b,"srcdoc",{get:(e,t)=>s.element.getAttribute.call(t,i.attributePrefix+"-attr-srcdoc")||e.call(t),set:(e,a,[r])=>{e.call(a,i.rewriteHtml(r,{document:!0,injectHead:i.createHtmlInject(i.handlerScript,i.bundleScript,i.configScript,i.cookieStr,t.location.href)}))}}),s.node.on("getTextContent",(e=>{"SCRIPT"===e.that.tagName&&(e.data.value=i.js.source(e.data.value))})),s.node.on("setTextContent",(e=>{"SCRIPT"===e.that.tagName&&(e.data.value=i.js.rewrite(e.data.value))})),"serviceWorker"in t.navigator&&delete t.Navigator.prototype.serviceWorker,s.document.on("getDomain",(e=>{e.data.value=i.domain})),s.document.on("setDomain",(e=>{if(!e.data.value.toString().endsWith(i.meta.url.hostname.split(".").slice(-2).join(".")))return e.respondWith("");e.respondWith(i.domain=e.data.value)})),s.document.on("url",(e=>{e.data.value=i.location.href})),s.document.on("documentURI",(e=>{e.data.value=i.location.href})),s.document.on("referrer",(e=>{e.data.value=i.referrer||i.sourceUrl(e.data.value)})),s.document.on("parseFromString",(e=>{if("text/html"!==e.data.type)return!1;e.data.string=i.rewriteHtml(e.data.string,{...i.meta,document:!0})})),s.attribute.on("getValue",(e=>{s.element.hasAttribute.call(e.that.ownerElement,i.attributePrefix+"-attr-"+e.data.name)&&(e.data.value=s.element.getAttribute.call(e.that.ownerElement,i.attributePrefix+"-attr-"+e.data.name))})),s.attribute.on("setValue",(e=>{i.attrs.isUrl(e.data.name)&&(s.element.setAttribute.call(e.that.ownerElement,i.attributePrefix+"-attr-"+e.data.name,e.data.value),e.data.value=i.rewriteUrl(e.data.value)),i.attrs.isStyle(e.data.name)&&(s.element.setAttribute.call(e.that.ownerElement,i.attributePrefix+"-attr-"+e.data.name,e.data.value),e.data.value=i.rewriteCSS(e.data.value,{context:"declarationList"})),i.attrs.isHtml(e.data.name)&&(s.element.setAttribute.call(e.that.ownerElement,i.attributePrefix+"-attr-"+e.data.name,e.data.value),e.data.value=i.rewriteHtml(e.data.value,{...i.meta,document:!0,injectHead:i.createHtmlInject(i.handlerScript,i.bundleScript,i.configScript,i.cookieStr,t.location.href)})),i.attrs.isSrcset(e.data.name)&&(s.element.setAttribute.call(e.that.ownerElement,i.attributePrefix+"-attr-"+e.data.name,e.data.value),e.data.value=i.html.wrapSrcset(e.data.value))})),s.url.on("createObjectURL",(e=>{let a=e.target.call(e.that,e.data.object);if(a.startsWith("blob:"+location.origin)){let r="blob:"+("about:blank"!==i.meta.url.href?i.meta.url.origin:t.parent.__uv.meta.url.origin)+a.slice("blob:".length+location.origin.length);i.blobUrls.set(r,a),e.respondWith(r)}else e.respondWith(a)})),s.url.on("revokeObjectURL",(e=>{if(i.blobUrls.has(e.data.url)){const t=e.data.url;e.data.url=i.blobUrls.get(e.data.url),i.blobUrls.delete(t)}})),s.storage.on("get",(e=>{e.data.name=l+i.meta.url.origin+"@"+e.data.name})),s.storage.on("set",(e=>{e.that.__uv$storageObj&&(e.that.__uv$storageObj[e.data.name]=e.data.value),e.data.name=l+i.meta.url.origin+"@"+e.data.name})),s.storage.on("delete",(e=>{e.that.__uv$storageObj&&delete e.that.__uv$storageObj[e.data.name],e.data.name=l+i.meta.url.origin+"@"+e.data.name})),s.storage.on("getItem",(e=>{e.data.name=l+i.meta.url.origin+"@"+e.data.name})),s.storage.on("setItem",(e=>{e.that.__uv$storageObj&&(e.that.__uv$storageObj[e.data.name]=e.data.value),e.data.name=l+i.meta.url.origin+"@"+e.data.name})),s.storage.on("removeItem",(e=>{e.that.__uv$storageObj&&delete e.that.__uv$storageObj[e.data.name],e.data.name=l+i.meta.url.origin+"@"+e.data.name})),s.storage.on("clear",(e=>{if(e.that.__uv$storageObj)for(const t of s.nativeMethods.keys.call(null,e.that.__uv$storageObj))delete e.that.__uv$storageObj[t],s.storage.removeItem.call(e.that,l+i.meta.url.origin+"@"+t),e.respondWith()})),s.storage.on("length",(e=>{e.that.__uv$storageObj&&e.respondWith(s.nativeMethods.keys.call(null,e.that.__uv$storageObj).length)})),s.storage.on("key",(e=>{e.that.__uv$storageObj&&e.respondWith(s.nativeMethods.keys.call(null,e.that.__uv$storageObj)[e.data.index]||null)})),s.websocket.on("websocket",(async e=>{let a;try{a=new URL(e.data.url)}catch(e){return}const r={Host:a.host,Origin:i.meta.url.origin,Pragma:"no-cache","Cache-Control":"no-cache",Upgrade:"websocket","User-Agent":t.navigator.userAgent,Connection:"Upgrade"},o=i.cookie.serialize(i.cookies,{url:a},!1);o&&(r.Cookie=o);const n=[...e.data.protocols],l={protocol:a.protocol,host:a.hostname,port:a.port||("wss:"===a.protocol?"443":"80"),path:a.pathname+a.search};n.length&&(r["Sec-WebSocket-Protocol"]=n.join(", ")),e.data.url=("https:"===i.bare.protocol?"wss://":"ws://")+i.bare.host+i.bare.pathname+"v1/",e.data.protocols=["bare",i.encodeProtocol(JSON.stringify({remote:l,headers:r,forward_headers:["accept","accept-encoding","accept-language","sec-websocket-extensions","sec-websocket-key","sec-websocket-version"]}))];const d=new e.target(e.data.url,e.data.protocols);s.nativeMethods.defineProperty(d,"__uv$url",{enumerable:!1,value:a.href}),e.respondWith(d)})),s.websocket.on("url",(e=>{"__uv$url"in e.that&&(e.data.value=e.that.__uv$url)})),s.websocket.on("protocol",(e=>{"__uv$protocol"in e.that&&(e.data.value=e.that.__uv$protocol)})),s.function.on("function",(e=>{e.data.script=i.rewriteJS(e.data.script)})),s.function.on("toString",(e=>{i.methods.string in e.that&&e.respondWith(e.that[i.methods.string])})),s.object.on("getOwnPropertyNames",(e=>{e.data.names=e.data.names.filter((e=>!i.filterKeys.includes(e)))})),s.object.on("getOwnPropertyDescriptors",(e=>{for(const t of i.filterKeys)delete e.data.descriptors[t]})),s.style.on("setProperty",(e=>{s.style.dashedUrlProps.includes(e.data.property)&&(e.data.value=i.rewriteCSS(e.data.value,{context:"value",...i.meta}))})),s.style.on("getPropertyValue",(e=>{s.style.dashedUrlProps.includes(e.data.property)&&e.respondWith(i.sourceCSS(e.target.call(e.that,e.data.property),{context:"value",...i.meta}))})),"CSS2Properties"in t)for(const e of s.style.urlProps)s.overrideDescriptor(t.CSS2Properties.prototype,e,{get:(e,t)=>i.sourceCSS(e.call(t),{context:"value",...i.meta}),set:(e,t,a)=>{e.call(t,i.rewriteCSS(a,{context:"value",...i.meta}))}});else"HTMLElement"in t&&s.overrideDescriptor(t.HTMLElement.prototype,"style",{get:(e,t)=>{const a=e.call(t);if(!a.__uv$modifiedStyle)for(const e of s.style.urlProps)s.nativeMethods.defineProperty(a,e,{enumerable:!0,configurable:!0,get(){const t=s.style.getPropertyValue.call(this,e)||"";return i.sourceCSS(t,{context:"value",...i.meta})},set(t){s.style.setProperty.call(this,s.style.propToDashed[e]||e,i.rewriteCSS(t,{context:"value",...i.meta}))}}),s.nativeMethods.defineProperty(a,"__uv$modifiedStyle",{enumerable:!1,value:!0});return a}});s.style.on("setCssText",(e=>{e.data.value=i.rewriteCSS(e.data.value,{context:"declarationList",...i.meta})})),s.style.on("getCssText",(e=>{e.data.value=i.sourceCSS(e.data.value,{context:"declarationList",...i.meta})})),t.window&&i.addEventListener.call(t,"hashchange",(e=>{if(e.__uv$dispatched)return!1;e.stopImmediatePropagation();const a=t.location.hash;s.history.replaceState.call(t.history,"","",e.oldURL),i.location.hash=a})),s.location.on("hashchange",((e,a,r)=>{if(r.HashChangeEvent&&s.history.replaceState){s.history.replaceState.call(t.history,"","",i.rewriteUrl(a));const o=new r.HashChangeEvent("hashchange",{newURL:a,oldURL:e});s.nativeMethods.defineProperty(o,"__uv$dispatched",{value:!0,enumerable:!1}),i.dispatchEvent.call(t,o)}})),s.fetch.overrideRequest(),s.fetch.overrideUrl(),s.xhr.overrideOpen(),s.xhr.overrideResponseUrl(),s.element.overrideHtml(),s.element.overrideAttribute(),s.element.overrideInsertAdjacentHTML(),s.element.overrideAudio(),s.node.overrideBaseURI(),s.node.overrideTextContent(),s.attribute.overrideNameValue(),s.document.overrideDomain(),s.document.overrideURL(),s.document.overrideDocumentURI(),s.document.overrideWrite(),s.document.overrideReferrer(),s.document.overrideParseFromString(),s.storage.overrideMethods(),s.storage.overrideLength(),s.object.overrideGetPropertyNames(),s.object.overrideGetOwnPropertyDescriptors(),s.history.overridePushState(),s.history.overrideReplaceState(),s.eventSource.overrideConstruct(),s.eventSource.overrideUrl(),s.websocket.overrideWebSocket(),s.websocket.overrideProtocol(),s.websocket.overrideUrl(),s.url.overrideObjectURL(),s.document.overrideCookie(),s.message.overridePostMessage(),s.message.overrideMessageOrigin(),s.message.overrideMessageData(),s.workers.overrideWorker(),s.workers.overrideAddModule(),s.workers.overrideImportScripts(),s.workers.overridePostMessage(),s.style.overrideSetGetProperty(),s.style.overrideCssText(),s.navigator.overrideSendBeacon(),s.function.overrideFunction(),s.function.overrideToString(),s.location.overrideWorkerLocation((e=>new URL(i.sourceUrl(e)))),s.overrideDescriptor(t,"localStorage",{get:(e,a)=>(a||t).__uv.lsWrap}),s.overrideDescriptor(t,"sessionStorage",{get:(e,a)=>(a||t).__uv.ssWrap}),s.override(t,"open",((e,t,a)=>{if(!a.length)return e.apply(t,a);let[r]=a;return r=i.rewriteUrl(r),e.call(t,r)})),i.$wrap=function(e){return"location"===e?i.methods.location:"eval"===e?i.methods.eval:e},i.$get=function(e){return e===t.location?i.location:e===t.eval?i.eval:e===t.parent?t.__uv$parent:e===t.top?t.__uv$top:e},i.eval=s.wrap(t,"eval",((e,t,a)=>{if(!a.length||"string"!=typeof a[0])return e.apply(t,a);let[r]=a;return r=i.rewriteJS(r),e.call(t,r)})),i.call=function(e,t,a){return a?e.apply(a,t):e(...t)},i.call$=function(e,t,a=[]){return e[t].apply(e,a)},s.nativeMethods.defineProperty(t.Object.prototype,n,{get:()=>i,enumerable:!1}),s.nativeMethods.defineProperty(t.Object.prototype,i.methods.setSource,{value:function(e){return s.nativeMethods.isExtensible(this)?(s.nativeMethods.defineProperty(this,i.methods.source,{value:e,writable:!0,enumerable:!1}),this):this},enumerable:!1}),s.nativeMethods.defineProperty(t.Object.prototype,i.methods.source,{value:i,writable:!0,enumerable:!1}),s.nativeMethods.defineProperty(t.Object.prototype,i.methods.location,{configurable:!0,get(){return this===t.document||this===t?i.location:this.location},set(e){this===t.document||this===t?i.location.href=e:this.location=e}}),s.nativeMethods.defineProperty(t.Object.prototype,i.methods.parent,{configurable:!0,get(){const e=this.parent;if(this===t)try{return"__uv"in e?e:this}catch(e){return this}return e},set(e){this.parent=e}}),s.nativeMethods.defineProperty(t.Object.prototype,i.methods.top,{configurable:!0,get(){const e=this.top;if(this===t){if(e===this.parent)return this[i.methods.parent];try{if("__uv"in e)return e;{let t=this;for(;t.parent!==e;)t=t.parent;return"__uv"in t?t:this}}catch(e){return this}}return e},set(e){this.top=e}}),s.nativeMethods.defineProperty(t.Object.prototype,i.methods.eval,{configurable:!0,get(){return this===t?i.eval:this.eval},set(e){this.eval=e}})}self.__uv||e(self,self.__uv$config,self.__uv$config.bare),self.__uvHook=e})();